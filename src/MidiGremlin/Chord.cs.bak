using System;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using MidiGremlin.Internal;

namespace MidiGremlin
{
    ///<summary>
    ///Used to construct and define the different chords.
    ///</summary>
    public class Chord
    {
        int[] _toneSteps;
        const int _defaultDuration = 2;
        
        //TODO Og så videre. Muligvis ikke rent faktisk en dur det her.
        public static Chord Major { get; } = new Chord(4, 7);


        public Chord(params int[] toneSteps)
        {
            _toneSteps = toneSteps;
        }

        public static Chord Name(string name)
        {
            throw new NotImplementedException();
        }


        /// <summary>
        /// Creates a new instance of the chord with a default value duration and velocity, using a tone as the value of the root.
        /// </summary>
        /// <param name="tone">A Tone enum value depicting the root of the chord.</param>
        /// <returns></returns>
        public MusicObject this[Tone tone]
        {
            get
            {
                return WithBaseTone(tone, _defaultDuration);
            }
        }
        /// <summary>
<<<<<<< HEAD
        /// Creates a new chord instance with a given duration and velocity, using a tone as the value of the chord's root.
=======
        /// Creates a new muisc object which represents a chord with a given duration and velocity, using a tone as the value of the root.
>>>>>>> 862469c3ff783de92849b33173e5fe959035bd06
        /// </summary>
        /// <param name="tone">An enum value depicting the root of the chord.</param>
        /// <param name="duration">The duration of the chord.</param>
        /// <param name="velocity">The velocity of the chord.</param>
        /// <returns></returns>
        public MusicObject WithBaseTone(Tone tone, int duration, byte velocity)
        {
            return new ChordInstance(tone,duration, velocity, _toneSteps);
        }
        /// <param name="tone">A Tone enum value depicting the root of the chord.</param>
        /// <param name="duration">The duration of the chord.</param>
        /// <returns></returns>
        public MusicObject WithBaseTone (Tone tone, int duration)
        {
            return new ChordInstance(tone, duration, _toneSteps);
        }
    }
}
